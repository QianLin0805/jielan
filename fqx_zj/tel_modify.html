<!doctype html>
<html>
<head>
<meta http-equiv="Content-type" content="text/html;charset=utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<title>个人信息</title>
<link rel="stylesheet" href="css/style.css" />
<script type="text/javascript" src="js/jquery.js"></script>
<style type="text/css">
body{background:#ebebeb;}
ul{width:100%;overflow:hidden;background:#fff;padding:30px 0 10px;}
li{width:90%;margin:0 3%;padding:0 2%;height:50px;line-height:50px;border-bottom:1px solid #dcdcdc;position:relative;font-size:16px;}
li span{width:85px;display:inline-block;}
li input{width:70%;height:50px;line-height:20px;vertical-align:top;}
li #getCode{width:125px;line-height:30px;color:#111;text-align:center;border-left:1px solid #666;position:absolute;right:0;top:10px;font-size:14px;}
#modify{width:90%;line-height:40px;font-size:16px;color:#fff;background:#06bf04;text-align:center;margin:30px 0 0 5%;display:inline-block;border-radius:5px;}
</style>
</head>
<body>
	<ul>
    	<li>
        	<span>手机号码</span><input type="tel" placeholder="输入要修改的手机号" id="tel" />
        </li>
    	<li style="border:none;">
        	<input type="tel" placeholder="验证码" style="width:50%;" id="code" /><p id="getCode">获取验证码</p>
        </li>
    </ul>
    <a id="modify">修改</a>
</body>
</html>
<script type="text/javascript">
//每60s发送验证码
$(document).ready(function(){
	$('#getCode').bind('click',function(){
		$(this).unbind('click');
		sendcode();
	});
	function sendcode(){
		$('#getCode').css({
			color:'#ccc',
			borderColor:'#ccc'
		}).html('<i id="time" style="font-size:15px;">60</i><b style="font-size:16px;">s</b>后再次获取');
		var timer=setInterval(function(){
			var i=60;
			if(i>0){
				var time=parseInt($('#time').text());
				$('#time').text(time-1);
				i--;
			}
		},1000);
		setTimeout(function(){
			$('#getCode').bind('click',function(){sendcode()}).css({
				color:'#111',
				borderColor:'#111'
			}).html('获取验证码');
			clearInterval(timer);
		},60000);
	}
	//验证手机号
	var tel=false;
	$('#tel').on('keyup',function(){
		var telVal=$(this).val();
		var ptnTel=/^\d+$/g;
		var ptnTel1=/^1\d{10}$/g;
		if(!ptnTel.test(telVal)){
			$(this).val(telVal.replace(/\D/g,''));
		}
		if(telVal.length>11){
			$(this).val($(this).val().substr(0,11));
		}
		//验证手机号
		if(!ptnTel1.test(telVal)){
			return tel=false;
		}
		tel=true;
	});
	//验证码
	$('#code').on('keyup',function(){
		var codeVal=$(this).val();
		var ptnCode=/^\d+$/g;
		if(!ptnCode.test(codeVal)){
			$(this).val(codeVal.replace(/\D/g,''));
		}
		if(codeVal.length>8){
			$(this).val($(this).val().substr(0,8));
		}
	});
	$('#modify').on('click',function(){
		if(tel){
			window.location.href='inform.html';
		}
	});
});
</script>